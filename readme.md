# üìä Crypto Price Service

–°–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç —Å –∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω–æ–π.

---

## üöÄ –°—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/Monste11osz/CryptoApp.git
cd CryptoApp
```

üí° –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç —É –≤–∞—Å –≤ .zip –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:

1. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
unzip testYTask.zip
cd testYTask
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Docker:
```bash
docker compose up --build
```

3. –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –ë–î

   –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ (config/conf.json) –∏–ª–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω localhost –∏–ª–∏ 127.0.0.1 –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö–æ—Å—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∑–∞–º–µ–Ω–∏—Ç–µ –µ–≥–æ –Ω–∞ db ‚Äî –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ PostgreSQL –∏–∑ docker-compose.yml.
```json
{
  "DB_HOST": "db",
  "DB_PORT": 5432,
  "DB_USER": "admin",
  "DB_PASSWORD": "123123",
  "DB_NAME": "diplomdb"
}

```

4. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
```
http://localhost:8080
```

---

## üì¶ –ó–∞–ø—É—Å–∫ –≤ –¥–µ—Ç–∞–ª—è—Ö

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Docker** –∏ **Docker Compose**
- **Go 1.23+** (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
- **PostgreSQL 14+**

### –ó–∞–ø—É—Å–∫ —Å Docker
```bash
docker compose up --build
```

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
go mod download
```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
go run ./cmd/main.go
```

---

## üì° API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|--------|---------------------|------------------------------------------|
| POST   | `/currency/price`   | –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã               |
| POST   | `/currency/add`     | –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ     |
| DELETE | `/currency/remove`  | –£–¥–∞–ª–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∏–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è     |

---

## üì• –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### üîç POST `/currency/price`

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "coin": "bitcoin",
  "timestamp": 1754603100
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "status": "OK",
  "data": {
    "coin": "bitcoin",
    "price": 117200,
    "currency": "USD",
    "timestamp": 1754603017
  }
}
```

**–¶–µ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (404):**
```json
{
  "status": "NotFound",
  "message": "Price not found"
}
```

**–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å (400):**
```json
{
  "status": "ERROR",
  "message": "Invalid request"
}
```

**–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ü–µ–Ω—ã –º–æ–Ω–µ—Ç—ã (500):**
```json

{
"status": "ERROR",
"message": "Error while receiving data"
}
```

---

### ‚ûï POST `/currency/add`

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "name_coin": "bitcoin"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "OK",
  "message": "Coin 'bitcoin' added",
  "data": {}
}
```

**–ú–æ–Ω–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:**
```json
{
  "status": "ERROR",
  "message": "Coin not found"
}
```

**–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "status": "ERROR",
  "message": "Incorrect input data"
}
```
**–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–æ–Ω–µ—Ç—ã (500):**
```json
{
  "status": "ERROR",
  "message": "Service error while adding"
}

```

---

### ‚ùå DELETE `/currency/remove`

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "name_coin": "bitcoin"
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "OK",
  "message": "Coin deleted",
  "data": {}
}
```

**–ú–æ–Ω–µ—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–∏—Å–∫–µ:**
```json
{
  "status": "ERROR",
  "message": "This coin is not on the list"
}
```

**–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```json
{
  "status": "ERROR",
  "message": "Incorrect input data"
}
```
**–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –º–æ–Ω–µ—Ç—ã (500):**
```json
{
  "status": "ERROR",
  "message": "Service error while deleting"
}
```


